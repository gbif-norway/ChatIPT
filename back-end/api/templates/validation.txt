Basic validation reports:
{% for id, validation in tables.items %}
    Report for Table id {{ id }} 
        - Column names not matching allowed set of darwin core terms: {% if validation.unmatched_columns %}{{ validation.unmatched_columns|join:", " }}{% else %}None{% endif %}
        {% if validation.dwc_schema %}
        - DwC schema assessment: {{ validation.dwc_schema.message }}
        {% if validation.dwc_schema.invalid_columns %}
          Columns needing attention: {{ validation.dwc_schema.invalid_columns|join:", " }}
        {% endif %}
        {% endif %}

        - basisOfRecord: Checked that the column only contains one of the allowed values. 
        {% if validation.validation_errors.basisOfRecord %}Found rows with incorrect values, first 30 indices: {{ validation.validation_errors.basisOfRecord|slice:":30"|join:", " }}{% else %}All rows were compliant{% endif %}
        - decimalLatitude: Checked values are within range of -90 to 90.
        {% if validation.validation_errors.decimalLatitude %}Found rows with incorrect values, first 30 (of {{ validation.validation_errors.decimalLatitude|length }}) indices: {{ validation.validation_errors.decimalLatitude|slice:":30"|join:", " }}{% else %}All rows were compliant{% endif %}
        - decimalLongitude: Checked values are within range of -180 to 180.
        {% if validation.validation_errors.decimalLongitude %}Found rows with incorrect values, first 30 (of {{ validation.validation_errors.decimalLongitude|length }}) indices: {{ validation.validation_errors.decimalLongitude|slice:":30"|join:", " }}{% else %}All rows were compliant{% endif %}
        - eventDate: Checked dates are in an acceptable ISO format.
        {% if validation.validation_errors.eventDate %}Found rows with incorrect values, first 30 (of {{ validation.validation_errors.eventDate|length }}) indices: {{ validation.validation_errors.eventDate|slice:":30"|join:", " }} 
        When correcting eventDate errors, remember to format as ISO. Do not automatically assume days or months if they are missing, it's better to default to just year-month or even just year. Some valid egs: 2009-02-20T08:40Z, 1809-02-12, 1906-06, 1971, 1900/1909, 2007-11-13/15{% else %}All rows were compliant{% endif %}
        - eventDate (future dates): Checked that dates are not in the future.
        {% if validation.validation_errors.eventDateFuture %}Found rows with future dates, first 30 (of {{ validation.validation_errors.eventDateFuture|length }}) indices: {{ validation.validation_errors.eventDateFuture|slice:":30"|join:", " }}. Future dates are typically incorrect for biological observations - please verify these dates are accurate.{% else %}All rows were compliant{% endif %}
        {% if validation.validation_errors.individualCount %}
        - individualCount: Checked this is not a decimal value.
        Found rows with incorrect values, first 30 (of {{ validation.validation_errors.individualCount|length }}) indices: {{ validation.validation_errors.individualCount|slice:":30"|join:", " }}{% else %}
        - individualCount: All rows were compliant{% endif %}
        - catalogNumber: Checked that values are unique (required for specimen records).
        {% if validation.validation_errors.catalogNumber %}Found duplicate values, first 30 (of {{ validation.validation_errors.catalogNumber|length }}) indices: {{ validation.validation_errors.catalogNumber|slice:":30"|join:", " }}{% else %}All rows were compliant{% endif %}

        {% if validation.general_errors %} 
        General errors: {% for column, error in validation.general_errors.items %}
        - {{column}}: {{error}}
        {% endfor %}
        {% endif %}

        {% if validation.table_errors %} 
        {% for error in validation.table_errors %}
        General table-wide error: {{error}}
        {% endfor %}
        {% endif %}
{% endfor %}

Before publishing, make sure every table's name clearly indicates its role: set the core table's name to "occurrence", "taxon", or "event" as appropriate, and rename each extension table to its specific Darwin Core extension key (e.g., "measurement_or_fact", "dna_derived_data", etc). Use the provided Python tool to perform these renamings programmatically.

